<!-- Embedded fragment: no , no , <head>, or  -->
<div id="sncb-gtfs">
  <style>
    /* Scope all styles to this fragment to avoid leaking to the host page */
    #sncb-gtfs { font-family: Inter, Arial, sans-serif; max-width: 980px; margin: 28px auto; line-height: 1.6; color: #222; padding: 0 16px; }
    #sncb-gtfs h1,
    #sncb-gtfs h2,
    #sncb-gtfs h3 { color: #16324a; margin-top: 1.1rem; }
    #sncb-gtfs code,
    #sncb-gtfs pre { background: #f6f8fa; border-radius: 6px; }
    #sncb-gtfs pre { padding: 12px; overflow: auto; }
    #sncb-gtfs table { width: 100%; border-collapse: collapse; margin: 12px 0; }
    #sncb-gtfs th,
    #sncb-gtfs td { border: 1px solid #e1e4e8; padding: 8px; text-align: left; vertical-align: top; }
    #sncb-gtfs th { background: #f3f6f9; }
    #sncb-gtfs .muted { color:#566; font-size: 0.95rem; }
    #sncb-gtfs ul { margin: 0.4rem 0 0.8rem 1.1rem; }
    #sncb-gtfs .section { margin-bottom: 18px; }
  </style>

  <h1>SNCB GTFS</h1>
  <pre><code>GET /sncb/gtfs</code></pre>
  <p class="muted">Returns the raw GTFS feed (General Transit Feed Specification) for SNCB/NMBS as a downloadable ZIP archive containing standard GTFS tables.</p>

  <div class="section">
    <h2>Description</h2>
    <p>
      Provides the official static schedule dataset describing routes, stops, stop times, calendars, trips, shapes, and related tables. The response is a <em>.zip</em> file containing CSV (<em>.txt</em>) files following the GTFS standard. Use this endpoint to download a snapshot for offline processing, validation, visualization, or simulation.
    </p>
  </div>

  <!-- Removed: Authentication -->

  <!-- Removed: Output Format -->

  <!-- Removed: Response Schema (200 OK, headers/body) and Other Status Codes -->

  <div class="section">
    <h2>Output Data Attributes</h2>
    <table>
      <tr><th>Field</th><th>Type</th><th>Description</th></tr>
      <tr><td>(binary)</td><td>zip</td><td>GTFS archive containing Belgian national railway (SNCB/NMBS) static schedule data as standard-compliant ZIP file with CSV (.txt) tables. Binary format requires decompression before parsing: <em>developers</em> use GTFS libraries (gtfs-kit, OneBusAway, Transitland) to extract and validate tables, <em>analysts</em> unzip manually to inspect routes.txt, stop_times.txt in spreadsheet tools for ad-hoc queries. Archive typically 12-25 MB compressed, expanding to 50-100+ MB of CSV data representing Belgium's extensive rail network (~3,600 stations/stops, thousands of daily trips across IC/IR/S/L/P train categories). File name or metadata may include version/date identifiers enabling <em>data governance teams</em> to track schedule updates, validate against official SNCB publication dates, and maintain historical archives for longitudinal analysis. For <em>intermodal journey planners</em>, downloading and caching GTFS locally enables offline route calculation, reducing API dependency and enabling integration with STIB/TEC/De Lijn feeds for complete Belgian transit coverage.</td></tr>
      <tr><td>agency.txt</td><td>csv</td><td>Transit agency metadata table defining SNCB/NMBS organizational identity—typically single row containing agency_id (unique identifier for joins), agency_name ("SNCB" in French or "NMBS" in Dutch, Belgium's bilingual rail operator), agency_url (official website like sncb.be), agency_timezone (Europe/Brussels for Belgian operations), and optional fields like agency_lang (fr/nl/de/en), agency_phone, agency_fare_url. For <em>multi-modal journey planners</em> combining SNCB with STIB/TEC/De Lijn, agency.txt enables proper service attribution ("operated by SNCB" vs. "operated by STIB") in passenger-facing displays. <em>Data integrators</em> join agency_id from routes.txt to retrieve operator branding, contact information, and timezone for accurate schedule interpretation (all GTFS times in stop_times.txt interpreted relative to Europe/Brussels timezone avoiding DST ambiguity). The bilingual context is critical: SNCB (Société Nationale des Chemins de fer Belges) and NMBS (Nationale Maatschappij der Belgische Spoorwegen) refer to the same national rail operator, with French used in Wallonia/Brussels and Dutch in Flanders—<em>user interface developers</em> must handle both language variants for Belgian audience accessibility.</td></tr>
      <tr><td>routes.txt</td><td>csv</td><td>Route definitions representing passenger-facing train service categories across Belgian national rail network—each row defines one route_id with associated route_short_name (train category like "IC" for InterCity, "S" for suburban S-trains, "P" for Peak-hour services, "L" for local trains, "IR" for InterRegio), route_long_name (origin-destination description like "Oostende - Eupen" showing terminal stations), route_type (2 for rail per GTFS specification), and optional route_color/route_text_color for brand-consistent visualizations. SNCB routes represent service patterns rather than physical lines: IC trains (intercity express connecting major Belgian cities like Brussels-Antwerp-Ghent), S-trains (high-frequency suburban services around Brussels like S1/S2/S3/S4/S5 network), L-trains (stopping services calling at all stations), P-trains (peak-hour reinforcement services), and international connections (to Netherlands, France, Germany, Luxembourg). For <em>journey planners</em>, route information enables service-level filtering ("show me only IC trains for faster journeys" vs. "include all L-trains for more departure options"), while <em>network analysts</em> aggregate metrics by route_type to compare intercity vs. suburban performance. The route_short_name + route_long_name combination appears in passenger information displays ("IC to Oostende" immediately communicates fast service toward coast), and <em>cartographers</em> use route geometries from shapes.txt to render network maps showing Belgian rail coverage from North Sea coast through Brussels to Ardennes.</td></tr>
      <tr><td>trips.txt</td><td>csv</td><td>Trip instances representing individual train departures operating along routes—each row defines one trip_id (unique identifier for specific train run), route_id (which service pattern/category), service_id (which calendar applies—weekday/weekend/holiday), trip_headsign (destination displayed to passengers like "Antwerpen-Centraal" or "Liège-Guillemins"), and optional fields like direction_id (0/1 for outbound/inbound), block_id (physical train continuing across multiple trips), shape_id (geographic path reference). SNCB trips.txt contains thousands of rows representing all scheduled train departures across Belgium: morning IC departure from Brussels-Midi to Oostende at 07:23 is one trip, afternoon S1 departure from Brussels-Central to Nivelles at 15:47 is another. For <em>real-time integration</em>, trip_id from GTFS static joins with GTFS-RT vehicle positions and trip updates to match scheduled vs. actual train locations/times—essential for delay detection and passenger notifications. <em>Timetable analysts</em> count trips per route to quantify service frequency (how many IC trains per hour Brussels-Antwerp?), identify peak vs. off-peak patterns (P-trains appear only during commute hours), and calculate capacity allocation across Belgian network. The trip_headsign field displays on platform departure boards and train carriages, helping passengers confirm correct train ("Is this the train to Liège?"). With Belgium's dense rail network (~3,600 stations), trips.txt enables comprehensive journey planning from any origin to any destination through connection analysis.</td></tr>
      <tr><td>stop_times.txt</td><td>csv</td><td>Timetable sequences defining when each trip calls at each stop—the largest and most granular GTFS table, with millions of rows in SNCB dataset representing every scheduled station arrival/departure across all trains. Each row contains trip_id (which train), stop_id (which station/platform), arrival_time (HH:MM:SS format, may exceed 24:00 for post-midnight service like 25:30:00), departure_time (often identical to arrival except when trains dwell at stations), stop_sequence (1, 2, 3... ordering stops along route), and optional fields like stop_headsign, pickup_type/drop_off_type (regular boarding vs. must-book-ahead), timepoint (whether time is exact vs. estimated). For <em>journey planners</em>, stop_times.txt enables precise itinerary construction: query "Brussels-Central to Liège-Guillemins departing after 14:00" scans stop_times for trips with Brussels-Central departure ≥14:00 and subsequent Liège-Guillemins arrival, calculating journey duration and identifying necessary connections. <em>Delay analysts</em> join stop_times.txt (scheduled times) with GTFS-RT trip updates (actual times) to calculate delay per station, identifying chronic late-arrival locations and quantifying punctuality metrics (% of trains arriving within 5 minutes of schedule). The stop_sequence field orders stations enabling "next stop" displays and progress tracking ("train is currently between stop 5 and stop 6"). Belgian rail complexity requires careful interpretation: some trips represent partial routes (short-turn services not reaching route terminus), others show branching (train splits with cars proceeding to different destinations), and international trips extend beyond Belgian borders requiring coordinate-based filtering.</td></tr>
      <tr><td>stops.txt</td><td>csv</td><td>Station and platform locations across Belgian national rail network—catalog of ~3,600 physical stopping points with stop_id (unique identifier), stop_name (bilingual station name like "Bruxelles-Central / Brussel-Centraal" or "Liège-Guillemins / Luik-Guillemins"), stop_lat/stop_lon (WGS84 coordinates typically ranging lat 49.5-51.5°N, lon 2.5-6.4°E covering Belgium from coast to Ardennes), and optional fields like stop_code (public reference number), platform_code (track/platform designation), parent_station (grouping platforms within station complex), wheelchair_boarding accessibility flags. For <em>mapping applications</em>, stops.txt provides essential geographic layer: plotting all stop coordinates reveals Belgian rail network density with major hubs (Brussels-Central, Brussels-Midi, Antwerp-Central, Liège-Guillemins showing dozens of platforms as child records) and rural halts (small villages with single platform). <em>Proximity searches</em> use stop coordinates to find "nearest station to my location" (Haversine distance calculation from user GPS to all stops), while <em>accessibility analysts</em> filter wheelchair_boarding flags to identify barrier-free routes. The bilingual naming reflects Belgium's linguistic complexity: stations in Brussels and along linguistic border show French/Dutch names (Gare du Midi / Zuidstation), Flemish stations predominantly Dutch (Antwerpen-Centraal), Walloon stations French (Liège-Guillemins), with German names in eastern cantons (Eupen). The parent_station hierarchy enables logical grouping: Brussels-Central parent contains multiple platform child stops (platform 1, 2, 3...), simplifying queries ("all departures from Brussels-Central regardless of specific platform") and user interface design (showing station once rather than repeating for each platform).</td></tr>
      <tr><td>calendar.txt</td><td>csv</td><td>Service calendar patterns defining which days trains operate—base schedule templates with service_id (unique identifier), weekday boolean flags (monday=1, tuesday=1, wednesday=1, thursday=1, friday=1, saturday=0, sunday=0 for typical weekday-only service), start_date and end_date (YYYYMMDD format defining validity period like 20250101 to 20250630 for winter/summer timetable seasons). SNCB calendar.txt establishes regular service rhythms: weekday patterns for commuter trains (M-F with different frequencies than weekends), weekend patterns for leisure travel, and specialized patterns for summer schedules (more trains to coast during July-August beach season), winter schedules (ski services to Ardennes), or academic year patterns (extra trains during university terms). For <em>journey planners</em>, calendar.txt determines service availability: query on Tuesday uses tuesday=1 service patterns, Saturday query uses saturday=1 patterns, ensuring passengers see only trains actually operating that day. <em>Timetable analysts</em> identify service gaps by comparing weekday vs. weekend frequencies (do some routes operate only M-F requiring alternative weekend arrangements?). The start_date/end_date validity enables GTFS dataset versioning: winter 2024-2025 calendar runs December-March with more frequent peak-hour services, summer 2025 calendar runs April-October with increased coast-bound trains. Must combine with calendar_dates.txt exceptions to handle Belgian public holidays (Christmas, Easter, Belgian National Day July 21), strikes, and special events when base calendar patterns don't apply.</td></tr>
      <tr><td>calendar_dates.txt</td><td>csv</td><td>Service exceptions modifying or overriding base calendar patterns—each row specifies service_id, date (YYYYMMDD), and exception_type (1=service added on date, 2=service removed on date). Critical for Belgian rail operations handling public holidays, strikes, planned maintenance disruptions, and special events. For example: Christmas Day 20251225 with exception_type=2 removes regular weekday service replacing with reduced holiday schedule; Belgian National Day 20250721 adds special trains to Brussels for celebrations (exception_type=1); labor strikes remove affected services (exception_type=2 for impacted service_ids). <em>Journey planners</em> must check calendar_dates.txt before finalizing itineraries: trip appearing valid per calendar.txt weekday pattern may actually be cancelled per calendar_dates exception, avoiding passenger frustration from showing unavailable services. <em>Operations analysts</em> track exception frequency to quantify service disruptions (how many service-days lost to strikes annually? how much special-event capacity added?). Belgium's complex holiday calendar requires careful exception management: federal holidays (New Year, Labour Day, Belgian National Day, Armistice Day), regional holidays (Flemish Community Day, French Community Day, German Community Day not observed nationwide), school holidays (different timing French/Dutch education systems), and religious holidays (Easter, Ascension, Assumption, All Saints, Christmas). The exception mechanism also handles infrastructure maintenance: weekend track closures replace normal train service with rail replacement buses (removing affected trips), while special sporting/cultural events add extra trains beyond base schedule.</td></tr>
      <tr><td>shapes.txt</td><td>csv</td><td>Geographic path geometries defining train routes between stations—polyline sequences with shape_id (linking to trips.txt), shape_pt_lat/shape_pt_lon (WGS84 coordinates of path points), shape_pt_sequence (ordering points 1, 2, 3... along route), and optional shape_dist_traveled (cumulative distance in km from route start). Enables <em>cartographers</em> to render curved rail lines on maps rather than straight-line station-to-station connections: Brussels-Antwerp route follows actual Belgian National Railway track alignment through Mechelen rather than direct crow-flies path, Brussels-Oostende coastal route curves northwest through Ghent showing realistic travel path. For <em>mobile apps</em>, shapes.txt powers "train is currently here" map visualizations: interpolating vehicle position between shape points based on stop_times progress displays train icon moving along realistic track geometry. <em>Infrastructure analysts</em> use shape geometries to calculate route distances (summing shape_dist_traveled differences), identify shared track sections where multiple routes overlap (Brussels-Mechelen segment used by both IC to Antwerp and IC to Netherlands), and correlate delays with geographic features (mountainous Ardennes segments show slower speeds than flat Flanders). The polyline density varies: high-speed straight sections use sparse points (every few km), curvy routes through cities use dense points (every 100-200m) for rendering accuracy. Belgium's compact geography means most shapes span 50-150 km for domestic routes, with international extensions reaching Amsterdam (220 km), Paris (310 km), Cologne (220 km). GIS systems convert shapes.txt to standard formats like GeoJSON LineStrings or shapefiles for integration with other spatial datasets.</td></tr>
      <tr><td>transfers.txt</td><td>csv</td><td>Interchange rules defining permitted connections between stations or platforms—each row specifies from_stop_id and to_stop_id (connection endpoints), transfer_type (0=recommended transfer point, 1=timed transfer with guaranteed connection, 2=minimum time required, 3=transfer not possible), and optional min_transfer_time (seconds needed for interchange). Critical for Belgian multi-modal journey planning where passengers frequently transfer between IC trains, S-trains, metros, trams, and buses. For example: Brussels-Central transfers.txt shows connections between SNCB platforms and STIB metro platforms with min_transfer_time=180 (3 minutes to walk between rail platforms and metro mezzanine), Brussels-Midi shows Thalys international platform to domestic platform transfers with 300 seconds accounting for security/ticketing distance. <em>Journey planners</em> use transfers.txt to validate connection feasibility: proposed itinerary requiring 90-second Liège-Guillemins interchange rejected if transfers.txt specifies 300-second minimum (platforms too far apart), preventing missed connections and passenger complaints. <em>Infrastructure planners</em> identify transfer bottlenecks: stations with long min_transfer_times flag accessibility issues requiring wayfinding improvements, escalator installations, or platform relocations. Belgium's major hubs feature complex transfer rules: Brussels-Midi connecting SNCB domestic, Thalys/Eurostar international, metro M2/M6, trams, and buses requires careful transfer_type coding to distinguish guaranteed timed connections from at-risk tight transfers. The transfer_type=1 timed connections indicate trains deliberately held to wait for connecting services—important for rural routes where onward connections operate infrequently (missing connection means 60+ minute wait).</td></tr>
      <tr><td>feed_info.txt</td><td>csv</td><td>Dataset metadata providing GTFS feed versioning and validity information—typically single-row table with feed_publisher_name (SNCB/NMBS or MobilityTwin.Brussels), feed_publisher_url (official data source website), feed_lang (primary language code like "fr" or "nl"), feed_start_date and feed_end_date (YYYYMMDD format defining dataset validity period like 20250101-20250630 for timetable season), and feed_version (unique identifier for specific release like "2025-winter-v2"). For <em>data consumers</em>, feed_info.txt enables automated freshness checks: comparing current date against feed_end_date triggers alerts when dataset approaches expiry (preventing stale timetable usage), while feed_version tracking enables change detection ("has new GTFS been published since last download?"). <em>Quality assurance teams</em> validate feed_publisher metadata confirms authoritative source (official SNCB data vs. third-party derivative), and <em>integration systems</em> log feed_version in databases for audit trails and rollback capability ("customer complaint references journey planned with feed version X—retrieve that exact dataset for investigation"). Belgian rail GTFS typically updates with seasonal timetable changes (December for winter, June for summer), infrastructure modifications (new stations, line closures), and service pattern adjustments (frequency changes responding to demand). The ~292 archived snapshots observed Aug 2024-Jul 2025 suggest near-daily updates, though many may represent minor corrections rather than full timetable revisions. Feed validity periods span months rather than weeks, indicating stable baseline schedules modified by calendar_dates.txt exceptions for daily operational changes.</td></tr>
    </table>
    <p class="muted">These tables describe the planned timetable (what should happen). Combine with <code>/sncb/gtfs-realtime</code> to understand what is happening now.</p>
  </div>

  <div class="section">
    <h2>Estimated Response Volume</h2>
    <ul>
      <li>Average file size: ~12–25 MB</li>
      <li>File type: Binary <code>.zip</code> archive</li>
      <li>Update frequency (observed): roughly daily or when static schedules change</li>
      <li>Archived snapshots: ~292 versions observed between Aug 2024 and Jul 2025</li>
    </ul>
  </div>

  <div class="section">
    <h2>Data Source &amp; Transformation Pipeline</h2>
    <h3>Data Source</h3>
    <ul>
      <li>Provider: SNCB/NMBS Open Data platform</li>
      <li>Format: GTFS <code>.zip</code> archive (standard specification)</li>
      <li>Content: static public transport data (<code>trips.txt</code>, <code>stop_times.txt</code>, <code>stops.txt</code>, <code>routes.txt</code>, <code>calendar*.txt</code>, <em>etc.</em>)</li>
    </ul>

    <h3>Transformation Pipeline</h3>
    <ol>
      <li><strong>Fetch:</strong> retrieve the raw GTFS ZIP from the upstream static data source.</li>
      <li><strong>Version selection:</strong> if no timestamp is provided, return the latest snapshot; otherwise return the closest snapshot at or before the requested timestamp (≤ logic).</li>
      <li><strong>Serve:</strong> return the file as-is with <code>application/zip</code>; no transformation is applied.</li>
    </ol>
  </div>

  <div class="section">
    <h2>Example Application Scenarios</h2>
    <ul>
      <li>Build train network maps</li>
      <li>Generate trip schedules for apps or displays</li>
      <li>Transit accessibility and timetable analysis</li>
      <li>Combine with GTFS-RT for real-time overlays</li>
      <li>Synchronize with vehicle-position/trips endpoints for validation</li>
    </ul>
  </div>

  <div class="section" style="border-left: 4px solid #8B0000; padding: 15px; margin: 20px 0; background-color: #f8f9fa;">
    <h3>Operational Context for Belgian National Rail Ecosystem</h3>
    <p>The SNCB GTFS endpoint provides Belgium's complete national railway schedule as standardized static transit data—essential foundation for <em>multi-modal journey planners</em> integrating Belgian rail with Brussels STIB metro/tram/bus, Wallonia TEC buses, Flanders De Lijn transit, and international connections to Netherlands/France/Germany/Luxembourg. The ~3,600 stations spanning Belgium from North Sea coast (De Panne, Knokke) through Brussels to Ardennes mountains (Gouvy, Libramont) enable comprehensive domestic coverage, while routes.txt service categories (IC intercity, S suburban, L local, P peak-hour, IR interregional) facilitate service-appropriate routing—<em>travelers</em> preferring fast IC connections between major cities or comprehensive L-train coverage reaching smaller towns. For <em>real-time integration</em>, GTFS static provides baseline against which GTFS-RT and vehicle-position feeds overlay actual conditions: scheduled stop_times.txt departure 14:23 compared with GTFS-RT delay message "+8 minutes" yields passenger-facing "expected 14:31" arrival. <em>Accessibility analysts</em> leverage stops.txt wheelchair_boarding flags and transfers.txt min_transfer_time data to identify barrier-free routes through Belgian rail network, supporting European accessibility mandates and mobility-impaired passenger needs. The bilingual station naming (Bruxelles-Central / Brussel-Centraal, Liège-Guillemins / Luik-Guillemins) reflects Belgium's linguistic regions: French-speaking Wallonia, Dutch-speaking Flanders, bilingual Brussels, and German-speaking eastern cantons—<em>interface designers</em> must display appropriate language variants based on user preference or location context. <em>Operations researchers</em> use historical GTFS archives (~292 versions Aug 2024-Jul 2025) to track timetable evolution: service frequency changes responding to ridership patterns, new station openings (Brussels-Schuman RER station 2016), seasonal adjustments (increased coastal services July-August vacation season, winter ski trains to Ardennes). For <em>transportation planners</em>, combining SNCB GTFS with demographic data quantifies transit accessibility: what percentage of Belgian population lives within 800m walkable distance of hourly rail service? The shapes.txt geometries enable infrastructure analysis: identifying shared track segments where capacity constraints cause delays (Brussels junction used by IC/S/L trains plus Thalys/Eurostar internationals creates bottleneck), calculating route-km operated to evaluate subsidy efficiency. Belgium's compact geography (280 km north-south, 220 km east-west) means most domestic journeys complete within 2-3 hours, but complex stopping patterns and frequent transfers require sophisticated journey planning—GTFS stop_times.txt with millions of scheduled events enables algorithms to find optimal connections balancing travel time, transfers, and departure convenience for diverse passenger needs across Belgian national rail network.</p>
  </div>
</div>