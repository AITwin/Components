<!-- Embedded fragment: no , no , <head>, or  -->
<div id="environment-air-quality">
  <style>
    /* Scope all styles to this fragment to avoid leaking to the host page */
    #environment-air-quality { font-family: Inter, Arial, sans-serif; max-width: 980px; margin: 28px auto; line-height: 1.6; color: #222; padding: 0 16px; }
    #environment-air-quality h1,
    #environment-air-quality h2,
    #environment-air-quality h3 { color: #16324a; margin-top: 1.1rem; }
    #environment-air-quality code,
    #environment-air-quality pre { background: #f6f8fa; border-radius: 6px; }
    #environment-air-quality pre { padding: 12px; overflow: auto; }
    #environment-air-quality table { width: 100%; border-collapse: collapse; margin: 12px 0; }
    #environment-air-quality th,
    #environment-air-quality td { border: 1px solid #e1e4e8; padding: 8px; text-align: left; vertical-align: top; }
    #environment-air-quality th { background: #f3f6f9; }
    #environment-air-quality .muted { color:#566; font-size: 0.95rem; }
    #environment-air-quality ul { margin: 0.4rem 0 0.8rem 1.1rem; }
    #environment-air-quality .section { margin-bottom: 18px; }
  </style>

  <div class="section">
    <h2>Description</h2>
    <p>
      Provides air-quality measurements from Brussels monitoring stations (multiple pollutants, procedures and phenomena). Data is enriched with station metadata and exposed as a GeoJSON <code>FeatureCollection</code>. If no timestamp is specified elsewhere, the latest snapshot is returned; when a timestamp is provided, the closest earlier (≤) dataset is served.
    </p>
  </div>

  <!-- Removed: Authentication -->

  <!-- Removed: Output Format -->

  <!-- Removed: Response Schema (200 OK, headers/body) and Other Status Codes -->

  <div class="section">
    <h2>Output Data Attributes</h2>
    <table>
      <tr><th>Attribute</th><th>Type</th><th>Description</th></tr>
      <tr><td>type</td><td>string</td><td>GeoJSON object type, always <code>FeatureCollection</code>. Standard geospatial format enabling direct integration with mapping libraries (Leaflet, Mapbox GL JS) and GIS platforms (QGIS, ArcGIS) for visualizing Brussels air quality patterns. Each feature represents one pollutant observation from one monitoring station at the snapshot time, creating a multi-layer view of air quality (different pollutants at different locations) suitable for spatial analysis and public health mapping.</td></tr>
      <tr><td>features[]</td><td>array</td><td>Collection of pollutant observation features, each representing one specific pollutant (NO₂, PM10, PM2.5, O₃, CO, etc.) measured at one monitoring station. A single station typically generates multiple features (one per pollutant monitored there), so array length equals number of active pollutant-station combinations in Brussels at snapshot time. Typical Brussels: 10-30 monitoring stations × 3-8 pollutants each = 50-200 features. Enables: multi-pollutant mapping (color-code stations by PM2.5 vs. NO₂ levels), spatial pattern analysis (which neighborhoods experience highest pollution?), and pollutant-specific filtering (show only NO₂ observations exceeding EU limits).</td></tr>
      <tr><td>geometry.type</td><td>string</td><td>Geometry type, always <code>Point</code> representing the monitoring station's fixed installation location. Point geometry appropriate for stationary sensors providing localized air quality measurements. Enables: station mapping (plotting sensor network coverage), proximity queries ("air quality at stations within 500m of this address"), and spatial joins with demographic/infrastructure data (correlating pollution levels with population density, traffic volumes, green space coverage).</td></tr>
      <tr><td>geometry.coordinates</td><td>array</td><td>Coordinate pair [longitude, latitude] in WGS84 (EPSG:4326) specifying the station's precise geographic position. For Brussels: longitude ~4.24-4.48°E, latitude ~50.79-50.91°N. Station coordinates reflect actual sensor installation sites—often roadside (traffic monitoring), urban background (neighborhood air quality), or industrial/suburban locations. Critical for: mapping air quality spatially (heat maps, interpolated surfaces showing pollution gradients across Brussels), exposure assessment (estimating pollution levels at residential addresses via proximity to nearest stations), and infrastructure correlation (joining with traffic networks to link pollution to vehicle volumes, identifying high-pollution corridors).</td></tr>
      <tr><td>id</td><td>string</td><td>Feature identifier unique within this snapshot's FeatureCollection. Used by GeoJSON consumers for internal feature tracking, layer management in mapping libraries, and keying features for updates. Note: this is distinct from properties.id (observation identifier) and station.properties.id (station identifier)—three-level ID hierarchy reflects GeoJSON structure, pollutant observation identity, and physical station identity.</td></tr>
      <tr><td>properties.id</td><td>string</td><td>Observation identifier uniquely identifying this specific pollutant measurement at this station at this time slice. Persistent across snapshots when referencing the same data stream (pollutant + station + procedure combination). Critical for: time-series construction (tracking same observation stream over multiple API calls), data quality tracking (flagging suspect observations), and joining with detailed SOS metadata (retrieving sensor specifications, calibration history, quality assurance flags). Enables longitudinal monitoring: "is NO₂ at station X trending up or down over the past month?"</td></tr>
      <tr><td>properties.label</td><td>string</td><td>Human-readable descriptive label for this pollutant observation, often combining pollutant name with station context (e.g., "NO₂ at Arts-Loi", "PM10 hourly average"). More intuitive than technical IDs for user interfaces. Used in: map popups/tooltips, dashboard labels, reports, and public-facing applications where chemical notation or station codes would be cryptic. Provides accessible pollution information for non-expert audiences (citizens checking neighborhood air quality).</td></tr>
      <tr><td>properties.uom</td><td>string</td><td>Unit of measurement describing how pollutant concentration is quantified, typically "µg/m³" (micrograms per cubic meter of air) for most pollutants (NO₂, PM10, PM2.5, SO₂, CO), or "ppb/ppm" (parts per billion/million) for gases. Essential for: correct data interpretation (50 µg/m³ PM2.5 is moderate pollution; 50 mg/m³ would be catastrophic—units matter), comparing values across pollutants (requires unit-aware calculations), regulatory compliance checking (EU air quality standards specify pollutant-specific limits with defined units), and visualization axis labeling (charts must show correct units for scientific accuracy).</td></tr>
      <tr><td>properties.firstValue.timestamp</td><td>number</td><td>Unix timestamp (seconds since 1970-01-01 UTC) marking the earliest observation in the aggregation window covered by this snapshot. For hourly aggregates, this would be start-of-hour; for real-time feeds, recent measurement start time. Used for: understanding temporal coverage of reported values (is this instantaneous reading or multi-hour average?), constructing precise time-series (knowing exact observation period boundaries), and data quality assessment (large gaps between first and last timestamps suggest data collection issues or sparse reporting).</td></tr>
      <tr><td>properties.firstValue.value</td><td>number|null</td><td>Pollutant concentration measured at the earliest timestamp in the window. May be null if sensor was offline, calibrating, or data failed quality checks at window start. Historical value useful for: calculating within-window change (did pollution increase or decrease during this period?), smoothing algorithms requiring window-start reference, and completeness assessment (null suggests partial coverage). For applications needing "current" pollution, use lastValue instead—firstValue represents window opening conditions.</td></tr>
      <tr><td>properties.lastValue.timestamp</td><td>number</td><td>Unix timestamp for the most recent observation in the window—typically the measurement users care most about for "current" air quality assessment. Represents when the latest pollutant reading was captured. Critical for: data recency evaluation (is this minutes-old or hours-old data?), real-time air quality reporting ("as of [lastValue.timestamp], NO₂ is..."), and freshness filtering (applications may require data no older than X minutes). Gap between lastValue.timestamp and current time indicates reporting delay or sensor downtime.</td></tr>
      <tr><td>properties.lastValue.value</td><td>number|null</td><td>Most recent pollutant concentration at this station—the "current" air quality reading most relevant for real-time applications. Measured in units specified by <code>uom</code>. May be null during sensor outages, maintenance, or when data fails quality validation. Typical Brussels ranges: NO₂ 10-80 µg/m³ (EU limit 40 µg/m³ annual average), PM10 15-50 µg/m³ (limit 40 µg/m³), PM2.5 8-35 µg/m³ (limit 25 µg/m³). Values exceeding limits trigger: public health warnings, traffic restrictions (Low Emission Zone enforcement), and policy interventions. Essential for: air quality index calculations (converting concentrations to health-based categories), regulatory compliance monitoring (EU Air Quality Directive limits), public alerts ("high pollution day—reduce car use"), and health impact assessment.</td></tr>
      <tr><td>parameters.category.*</td><td>string</td><td>High-level thematic category grouping related environmental observations, typically "Air Quality" for all pollution measurements. Organizational metadata enabling: filtering across observation types in multi-domain systems (when API also serves water quality, noise, etc.), categorical aggregation in dashboards ("show all Air Quality parameters"), and semantic discovery (understanding what domain this observation belongs to). Inherited from SOS (Sensor Observation Service) specification's categorical taxonomy.</td></tr>
      <tr><td>parameters.feature.*</td><td>string</td><td>Provider-specific feature identifiers and labels from the originating SOS (Sensor Observation Service) endpoint, typically referencing monitoring station or sensor feature-of-interest. Used for: linking back to source SOS services for detailed metadata retrieval, joining with external air quality databases using SOS identifiers, and maintaining traceability to original data providers (Brussels Environment IRCEL-CELINE network). Technical field primarily for data pipeline operations rather than end-user applications.</td></tr>
      <tr><td>parameters.offering.*</td><td>string</td><td>SOS offering context describing measurement configuration: time resolution (hourly, real-time), averaging method, or data stream characteristics. Enables: understanding observation methodology (instantaneous reading vs. running average), comparing observations appropriately (hourly averages vs. 5-minute samples require different interpretation), and data quality assessment (some offerings represent validated data, others preliminary readings). SOS terminology for grouping related observation types from same sensor network.</td></tr>
      <tr><td>parameters.phenomenon.*</td><td>string</td><td>Pollutant identifier and label specifying what is being measured—the "observed property" in SOS terminology. Values indicate specific pollutants: NO₂ (nitrogen dioxide—traffic combustion), PM10 (particulate matter ≤10µm—dust, combustion, brake wear), PM2.5 (fine particles ≤2.5µm—combustion, most health-harmful), O₃ (ozone—secondary pollutant from traffic NOx + sunlight), CO (carbon monoxide—incomplete combustion), SO₂ (sulfur dioxide—industrial, heating). Critical for: pollutant-specific filtering ("show only NO₂ observations"), multi-pollutant analysis (comparing NO₂ vs. PM levels across city), regulatory compliance (different pollutants have different EU limit values), and health impact assessment (PM2.5 most dangerous for respiratory health; O₃ problematic in summer heat). Phenomenon field enables applications to programmatically identify and filter by pollutant type.</td></tr>
      <tr><td>parameters.procedure.*</td><td>string</td><td>Measurement procedure or sensor method used to capture this observation, indicating instrumentation type and quality tier. Values may distinguish: reference analyzers (certified high-accuracy instruments meeting EU reference method requirements, used for regulatory compliance), indicative monitors (lower-cost sensors providing supplementary coverage, useful for spatial resolution but less precise), continuous vs. batch sampling methods. Critical for: data quality interpretation (reference methods more reliable than indicative), multi-station comparisons (ensure comparing equivalent measurement quality), and research applications (scientific studies require reference-grade data). Procedure metadata helps users understand observation provenance and select appropriate data for their accuracy requirements.</td></tr>
      <tr><td>station.properties.id</td><td>number</td><td>Unique numeric identifier for the monitoring station where this observation was collected. Stable across time and pollutants, enabling: joining multiple pollutant observations from same location (aggregating "all pollutants at station 42"), time-series analysis (tracking station history), and spatial queries (identifying all observations from specific geographic locations). Essential key for correlating air quality with station characteristics (traffic-proximate vs. urban background, altitude, land use context). Persistent station IDs enable longitudinal studies: "has air quality at this location improved since Low Emission Zone implementation?"</td></tr>
      <tr><td>station.properties.label</td><td>string</td><td>Human-readable station name, typically referencing nearby landmarks, neighborhoods, or street names (e.g., "Arts-Loi", "Uccle", "Molenbeek—Rue de la Duchesse"). More intuitive than numeric IDs for public-facing applications. Used in: map labels (plotting stations with recognizable names), dashboards ("current air quality at Arts-Loi"), reports, and citizen engagement (residents recognize neighborhood names). Station labels enable geographic communication about pollution: "Arts-Loi station shows high NO₂ due to heavy traffic" is meaningful to Brussels residents in ways numeric IDs are not.</td></tr>
    </table>
  </div>

  <div class="section">
    <h2>Estimated Response Volume</h2>
    <ul>
      <li>Standard query: typically 10–1,000 features depending on timestamp and pollutant coverage</li>
      <li>High-frequency areas: dense features per timestamp due to multiple pollutants per station</li>
    </ul>
  </div>

  <div class="section">
    <h2>Data Source &amp; Transformation Pipeline</h2>
    <h3>Data Source</h3>
    <ul>
      <li>Brussels Environment Sensor Observation Service (SOS) — multiple pollutants (e.g., NO₂, O₃, PM10, PM2.5, CO)</li>
    </ul>

    <h3>Transformation Pipeline</h3>
    <ol>
      <li><strong>Data fetching:</strong> periodic retrieval from SOS endpoints into MobilityTwin spatial storage.</li>
      <li><strong>Enrichment:</strong> attach station and geospatial metadata; index by timestamp.</li>
      <li><strong>Serving:</strong> on request, return latest or nearest ≤ snapshot in GeoJSON.</li>
    </ol>
  </div>

  <div class="section">
    <h2>Example Application Scenarios</h2>
    <ul>
      <li>Public health monitoring dashboards (near-real-time pollution levels)</li>
      <li>Urban planning (trends near corridors, green zones, residential areas)</li>
      <li>Environmental compliance (legal thresholds over time)</li>
      <li>Data fusion with traffic and weather for dispersion modelling</li>
    </ul>
  </div>

  <p style="margin-top: 1.5em; padding: 0.75em; background: #f8f9fa; border-left: 3px solid #27AE60; font-size: 0.95em;">
    <strong>Operational Context:</strong> This air quality monitoring feed provides comprehensive, multi-pollutant environmental intelligence for Brussels, integrating data from the IRCEL-CELINE regulatory monitoring network with spatial coordinates and detailed observation metadata, enabling applications from public health protection to transport policy evaluation. <em>For public health authorities and environmental agencies</em>, the feed supports critical regulatory functions: real-time compliance monitoring against EU Air Quality Directive limits (NO₂ annual average ≤40 µg/m³, PM10 ≤40 µg/m³, PM2.5 ≤25 µg/m³), automated alert triggering when pollutant levels exceed health-based thresholds (activating public warnings, traffic restrictions in Low Emission Zone), and long-term trend assessment (are Brussels' pollution reduction targets being met?). The multi-pollutant structure (NO₂, PM10, PM2.5, O₃, CO, SO₂) enables comprehensive air quality index calculations essential for public communication—converting complex chemical data into simple health categories (Good/Moderate/Poor) citizens understand. <em>For transport planners and mobility managers</em>, air quality data reveals traffic-pollution causation: roadside stations with elevated NO₂ (primarily from diesel vehicles) vs. urban background stations demonstrate traffic contribution to pollution, justifying Low Emission Zone policies, diesel phase-outs, and shift to public transit/cycling/micromobility. Temporal patterns correlate with mobility: morning NO₂ peaks align with commute congestion, weekend O₃ elevations result from reduced NOx scavenging. Before/after studies quantify infrastructure impacts—did the car-free city center reduce PM2.5 by 20% as projected? <em>For citizens and air quality apps</em>, the feed enables neighborhood-specific exposure information: geocoded stations show "your local air quality" rather than city-wide averages, temporal data reveals optimal outdoor activity windows (avoid exercise during afternoon O₃ peaks in summer, morning NO₂ spikes year-round), and multi-pollutant awareness (PM2.5 most health-critical despite lower absolute concentrations than PM10). Real-time lastValue fields support "current conditions" dashboards, while firstValue provides short-term trend context. <em>For researchers and epidemiologists</em>, the dataset enables sophisticated health-environment studies: correlating pollution exposures (using station proximity as proxy) with respiratory disease incidence, examining environmental justice questions (do low-income neighborhoods experience disproportionate pollution burdens?), and evaluating policy interventions (did Brussels' 2018 diesel ban improve air quality in intended ways?). The SOS-derived metadata (procedure distinguishing reference vs. indicative monitors, phenomenon categorizing specific pollutants) ensures scientific rigor in data selection. The GeoJSON spatial format enables advanced analyses: kriging/interpolation to estimate pollution at unmeasured locations, hot-spot detection identifying neighborhoods requiring intervention, and multi-layer mapping combining pollution with demographics, transit access, green space distribution. Brussels' air quality monitoring is inseparable from its mobility transformation—traffic is the primary pollution source, and air quality data provides objective accountability for whether mobility policies (Low Emission Zone, cycling infrastructure, transit expansion, car-free zones) deliver promised health benefits.
  </p>
</div>